# 🧪 地形代价系统测试指南

## 快速测试步骤

### 1. 启动服务器
```bash
cd MazeVisualizer
python app.py
```

访问: http://127.0.0.1:5000

### 2. 基础功能测试

#### 测试1: 蜂蜜地设置
1. 点击"设置蜂蜜地"按钮（金黄色）
2. 在地图上点击几个格子
3. ✅ 应该看到金黄色的蜂蜜地形（带光泽和水珠）

#### 测试2: 体力值显示
1. 查看右侧统计面板
2. ✅ 应该看到姜饼人图标 🍪 和体力条
3. ✅ 体力条应该显示 100

#### 测试3: BFS vs Dijkstra 对比

**场景设置**:
```
起点(0,0) ━━━━━━━━━━━━━━━━━━━━ 终点(24,0)
           ↓ (蜂蜜地带)
           🍯🍯🍯🍯🍯🍯🍯🍯🍯🍯
           
绕路选项: 从上方或下方绕过蜂蜜地
```

**操作步骤**:
1. 设置起点在左上角 (0, 0)
2. 设置终点在右上角 (24, 0)
3. 在中间横向放置一排蜂蜜地 (y=5, x=0-24)
4. 在蜂蜜地上下各留出通道

**测试BFS**:
1. 选择 BFS 算法
2. 点击"执行搜索"
3. ✅ 观察路径：可能直接穿过蜂蜜地（步数最少）
4. ✅ 查看"总代价"：应该较高
5. ✅ 观察体力条：应该明显下降

**测试Dijkstra**:
1. 点击"重置搜索"
2. 选择 Dijkstra 算法
3. 点击"执行搜索"
4. ✅ 观察路径：应该绕过蜂蜜地
5. ✅ 查看"总代价"：应该比BFS低
6. ✅ 观察体力条：应该保持较高

**测试A***:
1. 点击"重置搜索"
2. 选择 A* 算法
3. 点击"执行搜索"
4. ✅ 结果应该与Dijkstra类似（找到代价最低路径）

### 3. 高级测试场景

#### 场景A: 两条路径对比
```
起点 ━━━ 路径1(短但全是蜂蜜) ━━━ 终点
  ↓                              ↑
  └━━━ 路径2(长但是普通地面) ━━━┘
```

**预期结果**:
- BFS: 选择路径1（步数少）
- Dijkstra/A*: 选择路径2（代价低）

#### 场景B: 迷宫 + 蜂蜜地
1. 点击"DFS迷宫"生成迷宫
2. 在迷宫通道中随机放置蜂蜜地
3. 对比不同算法的路径选择

### 4. UI/UX 测试

#### 视觉效果检查
- ✅ 蜂蜜地应该是金黄色渐变
- ✅ 蜂蜜地应该有光泽高光
- ✅ 蜂蜜地应该有小水珠装饰
- ✅ 图例中应该显示"蜂蜜地"

#### 体力值动画
- ✅ 姜饼人图标应该有弹跳动画
- ✅ 路径动画时体力条应该实时减少
- ✅ 体力低于30%时应该变红并闪烁
- ✅ 重置后体力应该恢复到100

#### 按钮样式
- ✅ "设置蜂蜜地"按钮应该是金黄色饼干样式
- ✅ 悬停时应该有弹起和发光效果
- ✅ 激活时应该有高亮边框

### 5. 数据验证

#### 统计信息检查
对于相同的起点和终点：

**BFS**:
- 路径长度: 最短
- 总代价: 可能较高（不考虑地形）
- 访问节点: 较多

**Dijkstra**:
- 路径长度: 可能较长
- 总代价: 最低（考虑地形）
- 访问节点: 较多

**A***:
- 路径长度: 可能较长
- 总代价: 最低（考虑地形）
- 访问节点: 较少（有启发式）

### 6. 边界情况测试

#### 测试1: 全是蜂蜜地
1. 在起点和终点之间全部设置为蜂蜜地
2. ✅ 所有算法都应该能找到路径
3. ✅ 体力值应该降到很低

#### 测试2: 无蜂蜜地
1. 不设置任何蜂蜜地
2. ✅ 所有算法结果应该相似
3. ✅ 体力值应该保持100

#### 测试3: 起点/终点在蜂蜜地
1. 尝试在蜂蜜地上设置起点
2. ✅ 应该能正常设置（蜂蜜地被替换）

### 7. 性能测试

1. 创建大量蜂蜜地（覆盖50%地图）
2. 执行搜索
3. ✅ 应该在合理时间内完成
4. ✅ 动画应该流畅

## 预期输出示例

### 控制台日志
```
INFO - A*找到路径，g=28.0，h=0.0，f=28.0，访问=156，扩展=89
INFO - 返回数据: found=True, path_length=25, total_cost=28.0, steps_count=245
```

### 统计面板
```
姜饼人体力: [████████░░] 80
路径长度: 25
总代价 🍯: 28.0
访问节点: 156
扩展节点: 89
运行时间: 12.34 ms
状态: ✓ 找到路径
```

## 常见问题排查

### 问题1: 蜂蜜地不显示
- 检查浏览器控制台是否有JavaScript错误
- 确认 `NODE_STATES.HONEY = 7` 已定义
- 刷新页面重试

### 问题2: 体力值不变化
- 确认路径经过了蜂蜜地
- 检查 `terrain_cost` 是否正确设置
- 查看浏览器控制台日志

### 问题3: 算法结果相同
- 确认蜂蜜地确实在路径上
- 尝试增加蜂蜜地数量
- 检查是否有其他路径可选

## 成功标准

✅ 所有基础功能测试通过
✅ BFS和Dijkstra/A*在有蜂蜜地时结果不同
✅ 体力值动画正常工作
✅ UI样式符合饼干主题
✅ 统计信息准确显示
✅ 无JavaScript错误
✅ 性能流畅

---

**测试愉快！** 🍪🍯✨
